<!DOCTYPE html>
<html>
    <head>
        <title>osu! web player</title>
    </head>

    <body>
        <script src="vendor/es5-shim.js"></script>
        <script src="vendor/require.js"></script>
        <script src="vendor/jquery.js"></script>
        <script src="vendor/q/lib/q.js"></script>
        <script src="vendor/q/lib/q/util.js"></script>
        <script type="text/javascript">
            // shim layer with setTimeout fallback
            window.requestAnimFrame = (function(){
                function requestAnimationFrame(callback, element) {
                    window.setTimeout(callback, 1000 / 60);
                }

                return window.requestAnimationFrame        
                    || window.webkitRequestAnimationFrame  
                    || window.mozRequestAnimationFrame     
                    || window.oRequestAnimationFrame       
                    || window.msRequestAnimationFrame      
                    || requestAnimationFrame;
            }());

            window.onload = function() {
                define('jQuery', [ ], function () {
                    return jQuery.noConflict();
                });

                define('q', [ ], function () {
                    var qKey = '/q/util';

                    var Q = window[qKey];

                    delete window[qKey];

                    return Q;
                });

                require({
                    baseUrl: 'src'
                }, [ './index' ]);
            };
        </script>

        <pre id="debug"></pre>
    </body>
</html>
